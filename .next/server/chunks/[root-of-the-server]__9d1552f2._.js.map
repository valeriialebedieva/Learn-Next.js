{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/valeriialebedieva/Downloads/Learn-Next.js-2/app/lib/placeholder-data.ts"],"sourcesContent":["// This file contains placeholder data that you'll be replacing with real data in the Data Fetching chapter:\n// https://nextjs.org/learn/dashboard-app/fetching-data\nconst users = [\n  {\n    id: '410544b2-4001-4271-9855-fec4b6a6442a',\n    name: 'User',\n    email: 'user@nextmail.com',\n    password: '123456',\n  },\n];\n\nconst customers = [\n  {\n    id: 'd6e15727-9fe1-4961-8c5b-ea44a9bd81aa',\n    name: 'Evil Rabbit',\n    email: 'evil@rabbit.com',\n    image_url: '/customers/evil-rabbit.png',\n  },\n  {\n    id: '3958dc9e-712f-4377-85e9-fec4b6a6442a',\n    name: 'Delba de Oliveira',\n    email: 'delba@oliveira.com',\n    image_url: '/customers/delba-de-oliveira.png',\n  },\n  {\n    id: '3958dc9e-742f-4377-85e9-fec4b6a6442a',\n    name: 'Lee Robinson',\n    email: 'lee@robinson.com',\n    image_url: '/customers/lee-robinson.png',\n  },\n  {\n    id: '76d65c26-f784-44a2-ac19-586678f7c2f2',\n    name: 'Michael Novotny',\n    email: 'michael@novotny.com',\n    image_url: '/customers/michael-novotny.png',\n  },\n  {\n    id: 'CC27C14A-0ACF-4F4A-A6C9-D45682C144B9',\n    name: 'Amy Burns',\n    email: 'amy@burns.com',\n    image_url: '/customers/amy-burns.png',\n  },\n  {\n    id: '13D07535-C59E-4157-A011-F8D2EF4E0CBB',\n    name: 'Balazs Orban',\n    email: 'balazs@orban.com',\n    image_url: '/customers/balazs-orban.png',\n  },\n];\n\nconst invoices = [\n  {\n    customer_id: customers[0].id,\n    amount: 15795,\n    status: 'pending',\n    date: '2022-12-06',\n  },\n  {\n    customer_id: customers[1].id,\n    amount: 20348,\n    status: 'pending',\n    date: '2022-11-14',\n  },\n  {\n    customer_id: customers[4].id,\n    amount: 3040,\n    status: 'paid',\n    date: '2022-10-29',\n  },\n  {\n    customer_id: customers[3].id,\n    amount: 44800,\n    status: 'paid',\n    date: '2023-09-10',\n  },\n  {\n    customer_id: customers[5].id,\n    amount: 34577,\n    status: 'pending',\n    date: '2023-08-05',\n  },\n  {\n    customer_id: customers[2].id,\n    amount: 54246,\n    status: 'pending',\n    date: '2023-07-16',\n  },\n  {\n    customer_id: customers[0].id,\n    amount: 666,\n    status: 'pending',\n    date: '2023-06-27',\n  },\n  {\n    customer_id: customers[3].id,\n    amount: 32545,\n    status: 'paid',\n    date: '2023-06-09',\n  },\n  {\n    customer_id: customers[4].id,\n    amount: 1250,\n    status: 'paid',\n    date: '2023-06-17',\n  },\n  {\n    customer_id: customers[5].id,\n    amount: 8546,\n    status: 'paid',\n    date: '2023-06-07',\n  },\n  {\n    customer_id: customers[1].id,\n    amount: 500,\n    status: 'paid',\n    date: '2023-08-19',\n  },\n  {\n    customer_id: customers[5].id,\n    amount: 8945,\n    status: 'paid',\n    date: '2023-06-03',\n  },\n  {\n    customer_id: customers[2].id,\n    amount: 1000,\n    status: 'paid',\n    date: '2022-06-05',\n  },\n];\n\nconst revenue = [\n  { month: 'Jan', revenue: 2000 },\n  { month: 'Feb', revenue: 1800 },\n  { month: 'Mar', revenue: 2200 },\n  { month: 'Apr', revenue: 2500 },\n  { month: 'May', revenue: 2300 },\n  { month: 'Jun', revenue: 3200 },\n  { month: 'Jul', revenue: 3500 },\n  { month: 'Aug', revenue: 3700 },\n  { month: 'Sep', revenue: 2500 },\n  { month: 'Oct', revenue: 2800 },\n  { month: 'Nov', revenue: 3000 },\n  { month: 'Dec', revenue: 4800 },\n];\n\nexport { users, customers, invoices, revenue };\n"],"names":[],"mappings":"AAAA,4GAA4G;AAC5G,uDAAuD;;;;;;;AACvD,MAAM,QAAQ;IACZ;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,UAAU;IACZ;CACD;AAED,MAAM,YAAY;IAChB;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,OAAO;QACP,WAAW;IACb;CACD;AAED,MAAM,WAAW;IACf;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;IACA;QACE,aAAa,SAAS,CAAC,EAAE,CAAC,EAAE;QAC5B,QAAQ;QACR,QAAQ;QACR,MAAM;IACR;CACD;AAED,MAAM,UAAU;IACd;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;IAC9B;QAAE,OAAO;QAAO,SAAS;IAAK;CAC/B","debugId":null}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///Users/valeriialebedieva/Downloads/Learn-Next.js-2/app/seed/route.ts"],"sourcesContent":["import bcrypt from 'bcrypt';\nimport postgres from 'postgres';\nimport { invoices, customers, revenue, users } from '../lib/placeholder-data';\n\nasync function seedUsers(sql: ReturnType<typeof postgres>) {\n  await sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n  await sql`\n    CREATE TABLE IF NOT EXISTS users (\n      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n      name VARCHAR(255) NOT NULL,\n      email TEXT NOT NULL UNIQUE,\n      password TEXT NOT NULL\n    );\n  `;\n\n  const insertedUsers = await Promise.all(\n    users.map(async (user) => {\n      const hashedPassword = await bcrypt.hash(user.password, 10);\n      return sql`\n        INSERT INTO users (id, name, email, password)\n        VALUES (${user.id}, ${user.name}, ${user.email}, ${hashedPassword})\n        ON CONFLICT (id) DO NOTHING;\n      `;\n    }),\n  );\n\n  return insertedUsers;\n}\n\nasync function seedInvoices(sql: ReturnType<typeof postgres>) {\n  await sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n\n  await sql`\n    CREATE TABLE IF NOT EXISTS invoices (\n      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n      customer_id UUID NOT NULL,\n      amount INT NOT NULL,\n      status VARCHAR(255) NOT NULL,\n      date DATE NOT NULL\n    );\n  `;\n\n  const insertedInvoices = await Promise.all(\n    invoices.map(\n      (invoice) => sql`\n        INSERT INTO invoices (customer_id, amount, status, date)\n        VALUES (${invoice.customer_id}, ${invoice.amount}, ${invoice.status}, ${invoice.date})\n        ON CONFLICT (id) DO NOTHING;\n      `,\n    ),\n  );\n\n  return insertedInvoices;\n}\n\nasync function seedCustomers(sql: ReturnType<typeof postgres>) {\n  await sql`CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\"`;\n\n  await sql`\n    CREATE TABLE IF NOT EXISTS customers (\n      id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n      name VARCHAR(255) NOT NULL,\n      email VARCHAR(255) NOT NULL,\n      image_url VARCHAR(255) NOT NULL\n    );\n  `;\n\n  const insertedCustomers = await Promise.all(\n    customers.map(\n      (customer) => sql`\n        INSERT INTO customers (id, name, email, image_url)\n        VALUES (${customer.id}, ${customer.name}, ${customer.email}, ${customer.image_url})\n        ON CONFLICT (id) DO NOTHING;\n      `,\n    ),\n  );\n\n  return insertedCustomers;\n}\n\nasync function seedRevenue(sql: ReturnType<typeof postgres>) {\n  await sql`\n    CREATE TABLE IF NOT EXISTS revenue (\n      month VARCHAR(4) NOT NULL UNIQUE,\n      revenue INT NOT NULL\n    );\n  `;\n\n  const insertedRevenue = await Promise.all(\n    revenue.map(\n      (rev) => sql`\n        INSERT INTO revenue (month, revenue)\n        VALUES (${rev.month}, ${rev.revenue})\n        ON CONFLICT (month) DO NOTHING;\n      `,\n    ),\n  );\n\n  return insertedRevenue;\n}\n\nexport async function GET() {\n  try {\n    // Check if POSTGRES_URL is set\n    if (!process.env.POSTGRES_URL) {\n      return Response.json(\n        {\n          error: {\n            message:\n              'POSTGRES_URL environment variable is not set. Please set it in your .env file.',\n            code: 'MISSING_ENV_VAR',\n          },\n        },\n        { status: 500 },\n      );\n    }\n\n    // Create database connection\n    // Use SSL only if POSTGRES_URL includes SSL connection string (typically for cloud databases)\n    const useSSL = process.env.POSTGRES_URL.includes('sslmode=require') || \n                   process.env.POSTGRES_URL.includes('ssl=true') ||\n                   process.env.POSTGRES_URL.includes('amazonaws.com') ||\n                   process.env.POSTGRES_URL.includes('neon.tech') ||\n                   process.env.POSTGRES_URL.includes('vercel-storage.com');\n    \n    let sql: ReturnType<typeof postgres>;\n    try {\n      sql = postgres(process.env.POSTGRES_URL, useSSL ? { ssl: 'require' } : {});\n    } catch (connectionError: any) {\n      return Response.json(\n        {\n          error: {\n            message: 'Failed to create database connection. Please check your POSTGRES_URL.',\n            code: connectionError.code || 'CONNECTION_ERROR',\n            details: connectionError.message,\n          },\n        },\n        { status: 500 },\n      );\n    }\n\n    try {\n      const result = await sql.begin((sql) => [\n        seedUsers(sql),\n        seedCustomers(sql),\n        seedInvoices(sql),\n        seedRevenue(sql),\n      ]);\n\n      // Close the connection\n      await sql.end();\n\n      return Response.json({ message: 'Database seeded successfully' });\n    } catch (dbError: any) {\n      // Close the connection on error\n      await sql.end().catch(() => {});\n\n      // Extract error information\n      const errorCode = dbError?.code || dbError?.errno || '';\n      const errorMessage = dbError?.message || String(dbError) || 'Database error occurred';\n      let errorString = '';\n      try {\n        errorString = JSON.stringify(dbError);\n      } catch {\n        errorString = String(dbError);\n      }\n\n      // Handle specific connection errors\n      if (errorCode === 'ECONNREFUSED' || \n          errorMessage.includes('ECONNREFUSED') || \n          errorString.includes('ECONNREFUSED')) {\n        return Response.json(\n          {\n            error: {\n              message:\n                'Unable to connect to the database. Please make sure your database is running and the POSTGRES_URL is correct. Common issues: 1) Database server is not running, 2) Wrong host/port in POSTGRES_URL, 3) Firewall blocking the connection.',\n              code: 'ECONNREFUSED',\n            },\n          },\n          { status: 500 },\n        );\n      }\n\n      // Handle SSL errors\n      if (errorMessage.includes('SSL') || errorCode === '28000' || errorString.includes('SSL')) {\n        return Response.json(\n          {\n            error: {\n              message:\n                'SSL connection error. If you are using a local database, try removing SSL requirements from your connection string.',\n              code: 'SSL_ERROR',\n            },\n          },\n          { status: 500 },\n        );\n      }\n\n      // Handle authentication errors\n      if (errorCode === '28P01' || errorMessage.includes('password') || errorMessage.includes('authentication')) {\n        return Response.json(\n          {\n            error: {\n              message: 'Database authentication failed. Please check your POSTGRES_URL credentials.',\n              code: 'AUTH_ERROR',\n            },\n          },\n          { status: 500 },\n        );\n      }\n\n      // Handle other database errors\n      return Response.json(\n        {\n          error: {\n            message: errorMessage,\n            code: errorCode || 'DATABASE_ERROR',\n          },\n        },\n        { status: 500 },\n      );\n    }\n  } catch (error: any) {\n    return Response.json(\n      {\n        error: {\n          message: error.message || 'An unexpected error occurred',\n          code: error.code || 'UNKNOWN_ERROR',\n        },\n      },\n      { status: 500 },\n    );\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}